<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<script>
		function Node(value) {
			this.value = value;
			this.left = null;
			this.right = null;
		}
		var a1 = new Node('a');
		var b1 = new Node('b');
		var c1 = new Node('c');
		var d1 = new Node('d');
		var e1 = new Node('e');

		a1.left = b1;
		a1.right = c1;
		b1.left = d1;
		b1.right = e1;

		var a2 = new Node('a');
		var b2 = new Node('b');
		var c2 = new Node('c');
		var d2 = new Node('d');
		var e2 = new Node('e');
		var f2 = new Node('f');
		var g2 = new Node('g');
		var h2 = new Node('h');
		var i2 = new Node('i');

		a2.left = b2;
		a2.right = f2;
		b2.left = d2;
		d2.left = g2;
		g2.left = h2;
		f2.left = e2;
		e2.left = i2;

		// diffList:
		// {type:'新增',origin:null,now:value}
		// {type:'删除',origin:value,now:null}
		// {type:'修改',origin:value1,now:value2}

		function search(root1,root2,diffList) {
			if(root1 == null && root2 == null) return;
			if(root1 == null && root2) {              //新增节点
				diffList.push({type:'新增',origin:null,now:root2});
		//要继续向下，把新节点的子节点也添加到diffList，这时要手动将search的第一个参数改为null
				search(null,root2.left,diffList);
				search(null,root2.right,diffList);

			}else if(root1 && root2 == null) {        //删除节点
				diffList.push({type:'删除',origin:root1,now:null});

			}else if(root1.value != root2.value) {    //修改节点
				diffList.push({type:'修改',origin:root1,now:root2});
		//要继续向下查询此节点的子节点
				search(root1.left,root2.left,diffList);
				search(root1.right,root2.right,diffList);
			}else {
				search(root1.left,root2.left,diffList);
				search(root1.right,root2.right,diffList);
			}
		}

		function diff(root1,root2) {
			var diffList = [];
			search(root1,root2,diffList);
			return diffList;
		}
		console.log(diff(a1,a2));
	</script>
</body>
</html>