<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src="js/jquery-3.4.1.js"></script>
</head>
<style>
	button{
		padding: 0 15px;
		color: teal;
		background: #fff;
		font-size: 20px;
		line-height: 40px;
		border-radius: 5px;
		border: 1px solid teal;
		outline: none;
	}
</style>
<body>
	<h3>绑定事件</h3>
	<button id="btn1">button1</button>

	<div id="btn2">
		<h3>h3</h3>
		<p>p</p>
	</div>

	<button id="btn3">button3</button>
	<button id="btn4">解除btn1事件</button>
	<hr>

	<button id="btn5">button5</button>
	<hr>

	<input type="text">
	<button class="trigger">trigger</button>
	<button class="triggerHandler">triggerHandler</button>
	<hr>

	<ul>
		<li>li</li>
		<li>li</li>
		<li>li</li>
	</ul>
	<button class="trigger2">trigger</button>
	<button class="triggerHandler2">triggerHandler</button>
	<hr>
	<div id="bubble">
		div
		<span>span</span>
	</div>
	<button class="trigger3">trigger</button>
	<button class="triggerHandler3">triggerHandler</button>
	<hr>
	<button id="btn6">事件对象</button>
	<script>
	//事件名称绑定,可链式绑定
		$('#btn1').click(function() {
			console.log('button1');
		}).mouseenter(function() {
			$('#btn1').css({
				background:'teal',
				color:'#fff'
			})
		})
	//on绑定
		$('#btn1').on('mouseout',function() {
			$('#btn1').css({
				background:'#fff',
				color:'teal'
			})
		});
		$('#btn1').on('click', { color: 'pink' }, function(event) {
			$('#btn1').css('color',event.data.color);
		});
		$('#btn2').on('click','h3',{ uname:'sun' }, function(event) {
			//this指向h2
			//点击h2才会触发btn2的点击事件
			console.log(event.data.uname);
		}) 
		//添加多个事件
		$('#btn2').on({
			mouseenter: function() {
				$(this).css('border','1px solid orange');
			},
			mouseleave:function() {
				$(this).css('border','none');
			}
		})
	// one绑定,只执行一次
		$('#btn3').one('click',function() {
			$('#btn3').css({
					background:'teal',
					color:'#fff'
				});
			console.log('btn3');
		})

	// 解除事件绑定
		$('#btn4').click(function() {
			// $('#btn1').off(); //无参解除所有事件
			$('#btn1').off('click');//参数指定解除哪个事件
		})

	// 事件触发
	// trigger
		$('#btn5').on({
			click:function() {
				$('#btn5').css('color','pink');
			},
			mouseenter:function(event,background,color) {
				$('#btn5').css({
					background:background,
					color:color
				})
			},
			end:function() {
				console.log('end');
			}
		})
		setTimeout(function() {
			$('#btn5').trigger('click');
			console.log('trigger');
		}, 1000);
		setTimeout(function() {
			$('#btn5').trigger('mouseenter',['teal','#fff']); //传参
			console.log('trigger');
		}, 2000);
		//触发自定义事件
		setTimeout(function() {
			$('#btn5').trigger('end');  
		}, 3000);

	// triggerHandler
		// 1.trigger会触发默认事件，triggerHandler不会
		$('input').focus(function() {
			console.log('focus');
		});
		$('.trigger').click(function() {
			$('input').trigger('focus');
		});
		$('.triggerHandler').click(function() {//只输出，输入框不会获取焦点
			$('input').triggerHandler('focus');
		});

		// 2.若选中元素为集合，trigger指向所有元素的事件，triggerHandler只执行第一个元素的事件
		$('li').click(function() {
			console.log('click');
		});
		$('.trigger2').click(function() {
			$('li').trigger('click');
		});    //click三次
		$('.triggerHandler2').click(function() {
			$('li').triggerHandler('click');
		});   //click一次

		//3.trigger会冒泡，triggerHandler不会
		$('#bubble').click(function() {
			console.log('div');
		});
		$('#bubble span').click(function() {
			console.log('span');
		});
		$('.triggerHandler3').click(function() {
			$('#bubble span').triggerHandler('click');
		});
		$('.trigger3').click(function() {
			$('#bubble span').trigger('click');
		}) 

		//4.trigger可以链式操作，triggerHandler不可以
		setTimeout(function() {
			$('#btn1').trigger('mouseenter').trigger('click');
		}, 3500);
		setTimeout(function() {
			$('#btn1').triggerHandler('click').triggerHandler('mouseenter');
		}, 4000);  //Uncaught TypeError

	// 事件对象
		$('#btn6').click(function(e) {
			console.log('jquery',e);
		});
		$('#btn6')[0].onclick = function(e) {
			console.log('原生',e);
		}

	</script>
</body>
</html>